(this.webpackJsonpfintechytech=this.webpackJsonpfintechytech||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(1),s=a.n(i),l=a(7),c=a.n(l),r=(a(13),a(2)),o=a(3),u=a(5),b=a(4),h=(a(14),function(t){Object(u.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={data:[],newData:[],titles:[],isAllData:!1,filterData:{bid:!1,ask:!1,high:!1,low:!1,last:!0,symbol:!1},filterType:""},t.webSocket=function(){var e={method:"getSymbols",params:{},id:123},a=new WebSocket("wss://api.exchange.bitcoin.com/api/2/ws");a.onopen=function(){a.send(JSON.stringify(e))},a.onmessage=function(e){JSON.parse(e.data).result.forEach((function(e){t.createList(e,!0);var n,i={method:"subscribeTicker",params:{symbol:e.id},id:123};a.send(JSON.stringify(i)),a.onmessage=function(e){n=JSON.parse(e.data),t.createList(n.params,!1)}}))},a.onclose=function(){a.close()}},t.createList=function(e,a){var n=t.state,i=n.data,s=n.titles;if(e)if(t.updateRowColor(e),a){var l=s.findIndex((function(t){return t.id===e.id}));l>-1?s[l]=e:s.push(e)}else{var c=i.findIndex((function(t){return t.symbol===e.symbol}));c>-1?i[c]=e:i.push(e)}t.setState({data:i,titles:s})},t.writeTitle=function(t,e){var a="";return t&&e&&(a=(a=t.find((function(t){return e.symbol===t.id}))).baseCurrency+" / "+a.feeCurrency),a},t.toggleSort=function(e){var a=t.state.filterData;a[e]=!a[e],t.setState({filterData:a,filterType:e},(function(){}))},t.showAllList=function(){t.setState({isAllData:!t.state.isAllData})},t.getData=function(){var e,a=t.state,n=a.data,i=a.isAllData,s=a.filterData,l=a.filterType;return n&&(i?e=t.bubbleSortDown(n,"last"):(e=t.bubbleSortDown(n,l).slice(0,50),e=t.bubbleSortDown(e,"last")),e=s[l]?t.bubbleSortDown(e,l):t.bubbleSortUp(e,l)),e},t.updateRowColor=function(e){t.state.data.forEach((function(t,a,n){e.last&&t.last&&e.symbol===t.symbol&&(e.last>t.last?e.lastChange="up":e.last<t.last?e.lastChange="down":e.lastChange="",setTimeout((function(){e.lastChange=""}),0))}))},t.bubbleSortUp=function(t,e){var a,n=t.length-1,i=t;do{a=!1;for(var s=0;s<n;s++)if("symbol"===e){if(i[s][e]>i[s+1][e]){var l=i[s];i[s]=i[s+1],i[s+1]=l,a=!0}}else if(+i[s][e]>+i[s+1][e]){var c=i[s];i[s]=i[s+1],i[s+1]=c,a=!0}n--}while(a);return i},t.bubbleSortDown=function(t,e){var a,n=t.length-1,i=t;do{a=!1;for(var s=0;s<n;s++)if("symbol"===e){if(i[s][e]<i[s+1][e]){var l=i[s];i[s]=i[s+1],i[s+1]=l,a=!0}}else if(+i[s][e]<+i[s+1][e]){var c=i[s];i[s]=i[s+1],i[s+1]=c,a=!0}n--}while(a);return i},t}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.webSocket()}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,i=e.titles,s=e.isAllData;return Object(n.jsxs)("div",{className:"G-container",children:[Object(n.jsx)("h1",{children:"Exchange Quotes"}),Object(n.jsx)("button",{className:"P-show-all-brn",onClick:this.showAllList,children:s?"Show top 50":"Show all"}),a?Object(n.jsxs)("div",{className:"P-table-block",children:[Object(n.jsx)("div",{className:"P-table-header",children:Object(n.jsxs)("ul",{className:"G-flex",children:[Object(n.jsx)("li",{onClick:function(){return t.toggleSort("symbol")},className:"".concat(this.state.filterData.symbol?"P-up":""),children:"Ticker"}),Object(n.jsx)("li",{onClick:function(){return t.toggleSort("bid")},className:"".concat(this.state.filterData.bid?"P-up":""),children:"Bid"}),Object(n.jsx)("li",{onClick:function(){return t.toggleSort("ask")},className:"".concat(this.state.filterData.ask?"P-up":""),children:"Ask"}),Object(n.jsx)("li",{onClick:function(){return t.toggleSort("high")},className:"".concat(this.state.filterData.high?"P-up":""),children:"High"}),Object(n.jsx)("li",{onClick:function(){return t.toggleSort("low")},className:"".concat(this.state.filterData.low?"P-up":""),children:"Low"}),Object(n.jsx)("li",{onClick:function(){return t.toggleSort("last")},className:"".concat(this.state.filterData.last?"P-up":""),children:"Last"})]})}),Object(n.jsx)("div",{className:"P-table-body",children:this.getData().map((function(e,a){return Object(n.jsxs)("ul",{className:"G-flex ".concat(e.lastChange),children:[Object(n.jsx)("li",{children:t.writeTitle(i,e)}),Object(n.jsx)("li",{children:e.bid||"\u2014"}),Object(n.jsx)("li",{children:e.ask||"\u2014"}),Object(n.jsx)("li",{children:e.high||"\u2014"}),Object(n.jsx)("li",{children:e.low||"\u2014"}),Object(n.jsx)("li",{children:e.last||"\u2014"})]},a)}))})]}):null]})}}]),a}(i.Component)),f=function(t){Object(u.a)(a,t);var e=Object(b.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsx)(h,{})}}]),a}(i.Component),d=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,l=e.getTTFB;a(t),n(t),i(t),s(t),l(t)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root")),d()}},[[15,1,2]]]);
//# sourceMappingURL=main.9be0dbe8.chunk.js.map